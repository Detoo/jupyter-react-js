define(["react","react-dom"],function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e,t,n,o){requirejs(["services/kernels/comm"],function(i){var s=function(e,t){if(t.comm_manager&&void 0===t.component_manager&&(t.component_manager=new c.ComponentManager(t,i)),t.component_manager){var r=a(o);t.component_manager.register(n,r)}},l=function(e){"code"===e.cell_type&&(e.react_dom?void 0!==e.react_dom.clear&&e.react_dom.clear():e.react_dom=new r(e))};e.notebook&&e.notebook.kernel&&s(e,e.notebook.kernel),t.on("kernel_created.Kernel kernel_created.Session",function(t,n){s(e,n.kernel)});var u=e.notebook.get_cells();u.forEach(function(e){l(e)}),t.on("create.Cell",function(e,t){l(t.cell)}),t.on("delete.Cell",function(e,t){t.cell&&t.cell.react_dom&&t.cell.react_dom.clear()})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),c=n(3),a=n(2);t["default"]={Manager:c,ReactComponent:a,Area:r,init:o},e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=this;this.clear=function(){t.subarea.innerHTML=""};var n=document.createElement("div");n.classList.add("jupyter-react-area"),n.classList.add("widget-area"),this.area=n;var o=document.createElement("div");o.classList.add("prompt"),n.appendChild(o);var r=document.createElement("div");return r.classList.add("jupyter-react-subarea"),r.classList.add("widget-subarea"),n.appendChild(r),this.subarea=r,e.input&&e.input.after(n),this}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(4),c=o(r),a=n(5),i=o(a);e.exports=function(e){return function(t,n,o){var r=this;return this.cell=o,this.comm=t,this.handleMsg=function(t){var o=t.content.data;switch(o.method){case"update":if(e.on_update)return e.on_update(n.content.data.module,o.props,t.content.comm_id);r.render(t,o.props);break;case"display":e.save?r._save(t,function(){r.render(t)}):r.render(t)}},this._save=function(e,n){var o=this._getMsgCell(e),r=Jupyter.notebook.metadata;o&&(r.react_comms||(r.react_comms={}),r.react_comms[t.comm_id]=this._getCellIndex(o.cell_id)+""),n()},this.render=function(o,r){var c=r||n.content.data;c.cell=this.cell||this._getMsgCell(o),c.comm=t;var a=void 0,i=n.content.data.domId;a=i?document.getElementById(i):this._outputAreaElement(o||{});var s=this._createMarkup(e.components[n.content.data.module],c);this._renderToDom(s,a)},this._renderToDom=function(e,t){i["default"].render(e,t)},this._getCellIndex=function(e){var t=void 0;return Jupyter.notebook.get_cells().forEach(function(n,o){n.cell_id===e&&(t=o)}),t},this._getMsgCell=function(e){if(this.cell)return this.cell;var t=e.parent_header.msg_id;return this.cell=Jupyter.notebook.get_msg_cell(t),this._overrideClearOutput(),this.cell},this._createMarkup=function(e,t){return c["default"].createElement(e,t)},this._outputAreaElement=function(e){var t=this._getMsgCell(e);return t.react_dom.subarea},this._overrideClearOutput=function(){var e=this;this.cell.clear_output=function(){Object.getPrototypeOf(e.cell).clear_output.call(e.cell),e.cell.react_dom.clear()}},this.cell&&this._overrideClearOutput(),this.comm.on_msg(this.handleMsg),this}}},function(e,t){"use strict";function n(e,t){return this.kernel=e,this.comm=t,this.components={},this.register=function(t,n){var o=this;this.components[t]||(this.components[t]={Component:n},e.comm_manager.register_target(t,function(e,n){"comm_open"===n.msg_type&&(o.components[t][e.comm_id]=o.components[t].Component(e,n))})),this.kernel.comm_info(t,function(e){var n=Object.keys(e.content.comms),r=Jupyter.notebook.metadata;n.length&&n.forEach(function(e){if(r.react_comms&&r.react_comms[e]){var n=o._getCell(r.react_comms[e]);if(n){var c=e.split(".").slice(-1)[0],a=o._createComm(o.kernel,t,e),i=o.components[t].Component(a,{content:{data:{module:c}}},n);i.render(),o.components[t][a.comm_id]=i}}})})},this._getCell=function(e){return Jupyter.notebook.get_cells()[parseInt(e)]},this._createComm=function(e,t,n){var o=new this.comm.Comm(t,n);return e.comm_manager.register_comm(o),o},this}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={ComponentManager:n},e.exports=t["default"]},function(t,n){t.exports=e},function(e,n){e.exports=t}])});